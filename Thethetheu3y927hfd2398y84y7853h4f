local ColorHitbox = Create("TextButton"){
                    Name = "Hitbox",
                    Parent = ColorPicker,
                    BackgroundTransparency = 1,
                    Size = UDim2.new(1, 0, 1, 0),
                    Text = ""
                }
                
                -- Simplified color picker functionality
                local colorFunctions = {}
                local currentColor = default
                
                function colorFunctions:Set(color)
                    currentColor = color
                    Tween(ColorDisplay, {BackgroundColor3 = color}, 0.2)
                    callback(color)
                end
                
                ColorHitbox.MouseButton1Click:Connect(function()
                    local r, g, b = math.floor(currentColor.R * 255), math.floor(currentColor.G * 255), math.floor(currentColor.B * 255)
                    colorFunctions:Set(Color3.fromRGB(r, g, b))
                    callback(currentColor)
                end)
                
                return colorFunctions
            end
            
            function SectionObject:AddTextbox(text, default, callback)
                default = default or ""
                callback = callback or function() end
                
                local Textbox = Create("Frame"){
                    Name = text.."Textbox",
                    Parent = ElementContainer,
                    BackgroundTransparency = 1,
                    Size = UDim2.new(1, 0, 0, 45)
                }
                
                local TextboxLabel = Create("TextLabel"){
                    Name = "Label",
                    Parent = Textbox,
                    BackgroundTransparency = 1,
                    Size = UDim2.new(1, 0, 0, 15),
                    Font = Library.Settings.Font,
                    Text = text,
                    TextColor3 = Library.Settings.TextColor,
                    TextSize = Library.Settings.TextSize,
                    TextXAlignment = Enum.TextXAlignment.Left
                }
                
                local TextboxFrame = Create("Frame"){
                    Name = "Frame",
                    Parent = Textbox,
                    BackgroundColor3 = Color3.fromRGB(40, 40, 40),
                    Position = UDim2.new(0, 0, 0, 20),
                    Size = UDim2.new(1, 0, 0, 25),
                    BorderSizePixel = 0
                }
                
                Create("UICorner"){
                    CornerRadius = UDim.new(0, 4),
                    Parent = TextboxFrame
                }
                
                local TextboxInput = Create("TextBox"){
                    Name = "Input",
                    Parent = TextboxFrame,
                    BackgroundTransparency = 1,
                    Size = UDim2.new(1, -10, 1, 0),
                    Position = UDim2.new(0, 5, 0, 0),
                    Font = Library.Settings.Font,
                    Text = default,
                    TextColor3 = Library.Settings.TextColor,
                    TextSize = Library.Settings.TextSize,
                    TextXAlignment = Enum.TextXAlignment.Left,
                    ClearTextOnFocus = false
                }
                
                local textboxFunctions = {}
                
                function textboxFunctions:Set(value)
                    TextboxInput.Text = value
                    callback(value)
                end
                
                TextboxInput.Focused:Connect(function()
                    Tween(TextboxFrame, {BackgroundColor3 = Color3.fromRGB(50, 50, 50)}, 0.2)
                end)
                
                TextboxInput.FocusLost:Connect(function(enterPressed)
                    Tween(TextboxFrame, {BackgroundColor3 = Color3.fromRGB(40, 40, 40)}, 0.2)
                    callback(TextboxInput.Text)
                end)
                
                return textboxFunctions
            end
            
            function SectionObject:AddKeybind(text, default, callback)
                default = default or Enum.KeyCode.Unknown
                callback = callback or function() end
                
                local Keybind = Create("Frame"){
                    Name = text.."Keybind",
                    Parent = ElementContainer,
                    BackgroundTransparency = 1,
                    Size = UDim2.new(1, 0, 0, 32)
                }
                
                local KeybindLabel = Create("TextLabel"){
                    Name = "Label",
                    Parent = Keybind,
                    BackgroundTransparency = 1,
                    Size = UDim2.new(0.65, 0, 1, 0),
                    Font = Library.Settings.Font,
                    Text = text,
                    TextColor3 = Library.Settings.TextColor,
                    TextSize = Library.Settings.TextSize,
                    TextXAlignment = Enum.TextXAlignment.Left
                }
                
                local KeybindButton = Create("TextButton"){
                    Name = "Button",
                    Parent = Keybind,
                    BackgroundColor3 = Color3.fromRGB(40, 40, 40),
                    Position = UDim2.new(0.65, 5, 0, 4),
                    Size = UDim2.new(0.35, -5, 1, -8),
                    Font = Library.Settings.Font,
                    Text = default ~= Enum.KeyCode.Unknown and tostring(default):gsub("Enum.KeyCode.", "") or "None",
                    TextColor3 = Library.Settings.TextColor,
                    TextSize = Library.Settings.TextSize,
                    AutoButtonColor = false
                }
                
                Create("UICorner"){
                    CornerRadius = UDim.new(0, 4),
                    Parent = KeybindButton
                }
                
                local keybindFunctions = {}
                local currentKey = default
                local listening = false
                
                function keybindFunctions:Set(key)
                    currentKey = key
                    KeybindButton.Text = key ~= Enum.KeyCode.Unknown and tostring(key):gsub("Enum.KeyCode.", "") or "None"
                    callback(key)
                end
                
                KeybindButton.MouseButton1Click:Connect(function()
                    listening = true
                    KeybindButton.Text = "..."
                    
                    local connection
                    connection = UserInputService.InputBegan:Connect(function(input)
                        if input.UserInputType == Enum.UserInputType.Keyboard then
                            keybindFunctions:Set(input.KeyCode)
                            listening = false
                            connection:Disconnect()
                        end
                    end)
                end)
                
                UserInputService.InputBegan:Connect(function(input)
                    if not listening and input.UserInputType == Enum.UserInputType.Keyboard and input.KeyCode == currentKey then
                        callback(currentKey)
                    end
                end)
                
                return keybindFunctions
            end
            
            function SectionObject:AddLabel(text)
                local Label = Create("TextLabel"){
                    Name = text.."Label",
                    Parent = ElementContainer,
                    BackgroundTransparency = 1,
                    Size = UDim2.new(1, 0, 0, 20),
                    Font = Library.Settings.Font,
                    Text = text,
                    TextColor3 = Library.Settings.TextColor,
                    TextSize = Library.Settings.TextSize,
                    TextXAlignment = Enum.TextXAlignment.Left
                }
                
                local labelFunctions = {}
                
                function labelFunctions:Set(newText)
                    Label.Text = newText
                end
                
                return labelFunctions
            end
            
            return SectionObject
        end
        
        return Tab
    end
    
    -- Example of using the library:
    -- local tab = Window:CreateTab("Main")
    -- local section = tab:AddSection("Features")
    -- section:AddButton("Click Me", function() print("Button clicked!") end)
    -- section:AddToggle("Toggle Option", false, function(value) print("Toggle:", value) end)
    -- section:AddSlider("Speed", 0, 100, 50, function(value) print("Speed:", value) end)
    
    return Window
end

-- Theme settings
function Library:SetTheme(theme)
    theme = theme or {}
    
    Library.Settings.MainColor = theme.MainColor or Library.Settings.MainColor
    Library.Settings.AccentColor = theme.AccentColor or Library.Settings.AccentColor
    Library.Settings.TextColor = theme.TextColor or Library.Settings.TextColor
    Library.Settings.Font = theme.Font or Library.Settings.Font
    Library.Settings.TextSize = theme.TextSize or Library.Settings.TextSize
    Library.Settings.CornerRadius = theme.CornerRadius or Library.Settings.CornerRadius
    
    if theme.Tween then
        Library.Settings.Tween.Time = theme.Tween.Time or Library.Settings.Tween.Time
        Library.Settings.Tween.Style = theme.Tween.Style or Library.Settings.Tween.Style
        Library.Settings.Tween.Direction = theme.Tween.Direction or Library.Settings.Tween.Direction
    end
end

-- Usage Example:
--[[
local UI = loadstring(game:HttpGet("https://raw.githubusercontent.com/YourName/YourRepo/main/CustomUI.lua"))()

-- Optional: Set custom theme
UI:SetTheme({
    MainColor = Color3.fromRGB(30, 30, 30),
    AccentColor = Color3.fromRGB(0, 120, 255),
    TextColor = Color3.fromRGB(255, 255, 255),
    Font = Enum.Font.Gotham,
    TextSize = 14,
    CornerRadius = UDim.new(0, 5),
    Tween = {
        Time = 0.2,
        Style = Enum.EasingStyle.Quad,
        Direction = Enum.EasingDirection.Out
    }
})

local Window = UI:CreateWindow("My Custom UI")

local MainTab = Window:CreateTab("Main")
local MainSection = MainTab:AddSection("Features")

MainSection:AddButton("Click Me", function()
    print("Button clicked!")
end)

MainSection:AddToggle("Toggle Option", false, function(value)
    print("Toggle:", value)
end)

MainSection:AddSlider("Speed", 0, 100, 50, function(value)
    print("Speed:", value)
end)

local dropdown = MainSection:AddDropdown("Select Option", {"Option 1", "Option 2", "Option 3"}, "Option 1", function(value)
    print("Selected:", value)
end)

local SettingsTab = Window:CreateTab("Settings")
local ConfigSection = SettingsTab:AddSection("Configuration")

ConfigSection:AddKeybind("Toggle UI", Enum.KeyCode.RightControl, function()
    -- Toggle UI visibility
end)

ConfigSection:AddColorPicker("UI Color", Color3.fromRGB(0, 120, 255), function(color)
    UI:SetTheme({AccentColor = color})
end)
]]

return Library
